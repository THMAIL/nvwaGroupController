{"remainingRequest":"/Users/lei/PycharmProjects/vue-manage-system/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lei/PycharmProjects/vue-manage-system/src/components/page/Upload.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lei/PycharmProjects/vue-manage-system/src/components/page/Upload.vue","mtime":1579184592747},{"path":"/Users/lei/PycharmProjects/vue-manage-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lei/PycharmProjects/vue-manage-system/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lei/PycharmProjects/vue-manage-system/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lei/PycharmProjects/vue-manage-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lei/PycharmProjects/vue-manage-system/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport VueCropper  from 'vue-cropperjs';\nexport default {\n    name: 'upload',\n    data: function(){\n        return {\n            defaultSrc: require('../../assets/img/img.jpg'),\n            fileList: [],\n            imgSrc: '',\n            cropImg: '',\n            dialogVisible: false,\n        }\n    },\n    components: {\n        VueCropper\n    },\n    methods:{\n        setImage(e){\n            const file = e.target.files[0];\n            if (!file.type.includes('image/')) {\n                return;\n            }\n            const reader = new FileReader();\n            reader.onload = (event) => {\n                this.dialogVisible = true;\n                this.imgSrc = event.target.result;\n                this.$refs.cropper && this.$refs.cropper.replace(event.target.result);\n            };\n            reader.readAsDataURL(file);\n        },\n        cropImage () {\n            this.cropImg = this.$refs.cropper.getCroppedCanvas().toDataURL();\n        },\n        cancelCrop(){\n            this.dialogVisible = false;\n            this.cropImg = this.defaultSrc;\n        },\n        imageuploaded(res) {\n            console.log(res)\n        },\n        handleError(){\n            this.$notify.error({\n                title: '上传失败',\n                message: '图片上传接口上传失败，可更改为自己的服务器接口'\n            });\n        }\n    },\n    created(){\n        this.cropImg = this.defaultSrc;\n    }\n}\n",null]}